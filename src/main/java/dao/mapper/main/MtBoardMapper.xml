<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DTD -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="dao.face.main.MtBoardDao_main">
	
	<!-- 인기멘토링 목록 조회 -->
	<select id="selectMtList" resultType="hashmap">
		SELECT B.*, M.*
		FROM mtboard B
		JOIN member M
		ON B.member_no = M.member_no
		<![CDATA[AND rownum <= 8]]>
		ORDER BY mtboard_hit DESC
	</select>

	<!-- 추후 파일업로드 구현시 사용 -->
<!-- 	<select id="selectMtList" resultType="hashmap"> -->
<!-- 		SELECT B.*, F.*, M.* -->
<!-- 		FROM mtboard B -->
<!-- 		JOIN fileupload F -->
<!-- 		ON B.mtboard_no = F.mtboard_no -->
<!-- 		JOIN member M -->
<!-- 		ON B.member_no = M.member_no -->
<!-- 		<![CDATA[AND rownum <= 8]]> -->
<!-- 		ORDER BY mtboard_hit DESC -->
<!-- 	</select> -->


	<!-- 멘토링 리뷰 조회 -->
	<select id="selectMtReviewList" resultType="hashmap">
		SELECT B.*, R.*, M.*
		FROM mtboard B
		JOIN mtreview R
		ON R.mtboard_no = B.mtboard_no
		JOIN member M
		ON R.member_no = M.member_no
		<![CDATA[WHERE rownum <= 6]]>
		ORDER BY mtreview_no DESC
	</select>


</mapper>