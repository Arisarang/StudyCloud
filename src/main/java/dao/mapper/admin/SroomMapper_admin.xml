<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DTD -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="dao.face.admin.SroomDao_admin">
    
    <insert id="insertsRoom" parameterType="StudyRoom" >
    	<selectKey order="BEFORE" resultType="int" keyProperty="sroom_no">
    		SELECT studyroom_seq.nextval FROM dual
    	</selectKey>
    
    	INSERT INTO studyroom ( sroom_no, sroom_name, sroom_addr, sroom_price, sroom_people, sroom_info, sroom_role )
    	VALUES ( #{sroom_no }, #{sroom_name }, #{sroom_addr }, #{sroom_price }, #{sroom_people }, #{sroom_info }, #{sroom_role }  )
    </insert>
    
    <insert id="insertFile" parameterType="FileUpload">
    	INSERT INTO fileupload ( fileupload_no, sroom_no, fileupload_ori, fileupload_stor )
    	VALUES ( fileupload_seq.nextval, #{sroom_no }, #{fileupload_ori }, #{fileupload_stor } )
    </insert>
    
</mapper>